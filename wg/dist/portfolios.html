<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
		<title>Coin Ai</title>
		<link rel="stylesheet" href="css/common-6e1d5f73a8.css" />
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index-c1cb46b3f8.css">
		<link rel="stylesheet" href="css/portfolios-29202f1e7a.css" />
	</head>

	<body>
		<div id="app" style="height: auto;">
			<navmenu></navmenu>
			<!--内容-->
			<div style="flex: 1;">
				<div class="navRoot w1170">
					<a href="index.html">Home page</a>
					>
					<a href="">Portfolio</a>
				</div>
				<div class="user content w1170 porbasic" v-cloak>
					<ul class="userInfo lf">
						<li><img :src="portfolio.head_image_url" alt="" /></li>
						<li style="margin-top: 20px;">{{portfolio.user_name}}</li>
						<li><img src="img/golden.png" alt="" style="height: 25px;width: auto;" /></li>
					</ul>
					<div class="analysis lf">
						<div class="quota lf">
							<el-progress stroke-width=10 text-inside='false' width="200" type="circle" :percentage="parseFloat(portfolio.succe_rate||0)"></el-progress>
							<div class="rankBase">
								<p class="ranking">RANKING</p>
								<p class="rankingNum">{{portfolio.rank}}</p>
							</div>
						</div>
						<div class="quota lf" style="margin-left: 25px;">
							<p class="first"><img src="img/pointer.png" alt="" class="pointer" /> Beat <i style="font-size:24px ;color:red">{{parseFloat(portfolio.succe_rate||0).toFixed(2)}}%</i> of All the Users</p>
							<p>ROI : <i>{{portfolio.entire_history}}</i><i v-show="portfolio.entire_history=='0.0%'" style="margin-left: 5px;">(updated in 24 hours)</i></p>
							<p>Daily Volatility : <i>{{portfolio.volatility}}</i></p>
							<div style="position: relative;">
								<p>Max Drawdown : <i>{{portfolio.max_drawdown}}</i></p>
								<el-tooltip content="Top center" placement="right">
									<div slot="content" class="tipcontent">
										Max Drawdown:The Max Drawdown Duration is the worst (the maximum / longest) amount of time an investment has seen between peaks. Link:
										<a href="https://en.wikipedia.org/wiki/Drawdown_(economics)">https://en.wikipedia.org/wiki/Drawdown_(economics)</a>
									</div>
									<div class="ques" style="top: 5px;left: 175px;">
										?
									</div>
								</el-tooltip>
							</div>
							<!-- 							<p>24 Hours Change : <i>{{portfolio.hour_24_history}}</i></p>		 -->
						</div>
					</div>
					<div class="portfolioGraph rf">
						<div class="share">SHARE<img src="img/share.png" alt=""></div>
						<ul class="widget">
							<li style="display: none;"><img src="img/Silo.jpg" alt="" /></li>
							<li><img src="img/remove.jpg" alt="" @click="confirmRemove(portfolio.folio_id)" style="cursor: pointer;" /></li>
							<li>
								<img src="img/eye.png" alt="" class="view" />
								<i>{{portfolio.read_num}}</i>
							</li>
						</ul>
					</div>
				</div>
				<div class="portfolio content w1170 porbasic">
					<div id="monthly_chart" style="float: left;width: 50%;"></div>
					<div id="pie" style="width: 50%;float: left;"></div>
				</div>

				<div class="analysis content w1170 porbasic" v-cloak>
					<h1>Quantitative Analysis</h1>
					<ul class="analysisTab">
						<li @click="switchTab(index)" :class="{'cur':index==tabIndex}" v-for="(tab,index) in analysisTab">{{tab.name}}</li>
					</ul>
					<div style="margin-top: 10px;">
						<div class="loader" v-show="loading">Loading...</div>
					</div>
					<div v-show="tabIndex==0" :style="{opacity:opacity}">
						<div class="blankTitle">Based on your risk tolerance characteristics, the portfolio optimization that the COIN AI system suggests to you is:</div>
						<div style="overflow: hidden;margin: 30px 0;">
							<div class="model">
								<span>Minimization Function :</span>
								<select name="" v-model="risk_fun">
									<option value="var" selected="">Variance</option>
									<option value="mdd">Max Drawdown</option>
								</select>
							</div>
							<div class="run" @click="getOptimization">RUN</div>
						</div>
						<div class="annReturn">
							<p class="annname">Ann Return:{{parseFloat(optimization.Frontier[range][1]*optimization.AnnFactor*100).toFixed(2)}}%</p>					
						</div>
						<div class="process">
							<span class="port lf">
						<p>Low return & Low risk</p>
					</span>
							<span class="port lf" style="display: none;">
						<p>Your ratio</p>
						<p style="text-align: center;"><img src="img/water.png" alt="" /></p>
					</span>
							<span class="port rf">
						<p>High return & High risk</p>					
					</span>
						</div>
						<div style="text-align: center;width: 968px;margin:auto">
							<el-slider v-model="range" :step="1" :min="0" :max="24"></el-slider>
						</div>

						<div style="overflow: hidden;">
							<div id="piechart" style="float: left;width: 50%;"></div>
							<div id="betas" style="width:50% !important;float: left;"></div>
						</div>
						
						<div id="frontier_chart" style="display: flex;justify-content: center;"></div>
						<div id="frontier_alloc_chart" style="margin: 90px 0;"></div>
					</div>
					<div v-show="tabIndex==1">
						<div id="histogram"></div>
						<!--<div id="monthly_chart"></div>-->
						<div id="histchart"></div>
						<div id="underwater"></div>
					</div>
					<div v-show="tabIndex==2" :style="{opacity:opacity}">
						<div style="overflow: hidden;margin-top: 50px;">
							<div class="model">
								<span>Regime  Model :</span>
								<select name="" v-model="aiRegime">
									<option :value="regime.model_name" v-for="regime in ai.RegimeModels">{{regime.model_name}}</option>
								</select>
							</div>
							<div class="model">
								<span>Factor  Model :</span>
								<select v-model="aiFactor">
									<option :value="factor.code" v-for="factor in ai.FactorModels">{{factor.code}}</option>
								</select>
							</div>
							<div class="model">
								<span>Number of Trials :</span>
								<input type="" name="" id="" value="" v-model="nTrials" style="height: 35px;" />
							</div>
							<div class="run" @click="getAi">RUN</div>
						</div>
						<div id="ret_histogram"></div>
						<div id="mdd_histogram"></div>
						<el-select @change="percent" v-model="percentile" style="margin-left: 158px;">
							<el-option :value="99" label="99th Percentile">
							</el-option>
							<el-option :value="95" label="95th Percentile">
							</el-option>
							<el-option :value="75" label="75th Percentile">
							</el-option>
							<el-option :value="50" label="50th Percentile">
							</el-option>
							<el-option :value="25" label="25th Percentile">
							</el-option>
							<el-option :value="5" label="5th Percentile">
							</el-option>
							<el-option :value="0" label="0th Percentile">
							</el-option>
						</el-select>
						<div id="timeline" style="display: flex;justify-content: center;"></div>
						<div id="monthreturn"></div>
					</div>
					<div v-show="tabIndex==3" :style="{opacity:opacity}">
						<div style="overflow: hidden;margin-top: 50px;">
							<div class="model">
								<span>Factor  Model :</span>
								<select v-model="styleFactor">
									<option :value="factor.Code" v-for="factor in style.FactorModels">{{factor.Code}}</option>
								</select>
							</div>
							<div class="run" @click="getStyle">RUN</div>
						</div>
						<div id="betas_div"></div>
						<div id="rsq_div" style="display: flex;justify-content: center;"></div>
						<div id="rollbeta_div"></div>
						<div id="scatter_div" style="width: 100%; height: 100%;"></div>
						<canvas id="radarChart" width="540px" height="200px" style="background:#fff;"></canvas>
						<div id="rollcrisk_div"></div>
					</div>
					<!--<div v-show="tabIndex==4">
				
			</div>-->
					<div v-show="tabIndex==4">
						<table border="0" cellspacing="0" cellpadding="" class="dt_tab">
							<tr>
								<th>Statistic</th>
								<th>Entire History</th>
								<th v-for="rollResult in ratios.RollResults">{{rollResult[0]}}</th>
							</tr>
							<tr v-for="result in ratios.ResultsAll">
								<td>
									{{result[0]}}
								</td>
								<td>
									{{result[1]}}
								</td>
								<td v-for="(rollResult,index) in ratios.RollResults">{{roll[index][result[0]]}}</td>
							</tr>
						</table>
					</div>
					<div v-show="tabIndex==5">
						<div id="risk_ret_div"></div>
						<div id="marginal_var_div"></div>
					</div>
				</div>
			</div>
			<footmenu></footmenu>
			<script src="js/vue-3e7fd9458a.js"></script>
			<script src="https://unpkg.com/element-ui/lib/index-d251c17bee.js"></script>
			<script src="js/axios-330bd8ed15.min.js"></script>
			<script type="text/javascript" src="js/chart-eebb8eb037.js"></script>
			<script src="js/loader-8fa7d68442.js"></script>
			<script src="js/common-11cf8877ad.js"></script>
			<script src="js/portfolios-cd45676f40.js"></script>
			<!-- Global site tag (gtag.js) - Google Analytics -->
			<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120232487-1"></script>
			<script>
			  window.dataLayer = window.dataLayer || [];
			  function gtag(){dataLayer.push(arguments);}
			  gtag('js', new Date());
			  gtag('config', 'UA-120232487-1');
			</script>
	</body>

</html>