var vm=new Vue({el:"#app",data(){return{ruleForm2:{pass:"",checkPass:""},rules2:{pass:[{required:!0,validator:(e,r,t)=>{""===r?t(new Error("please enter your password")):/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,18}$/.test(r)?(""!==this.ruleForm2.checkPass&&this.$refs.ruleForm2.validateField("checkPass"),t()):t(new Error("Need to include letters and numbers, at least 6 digits, up to 18 digits"))},trigger:"blur"}],checkPass:[{required:!0,validator:(e,r,t)=>{""===r?t(new Error("please enter your password")):r!==this.ruleForm2.pass?t(new Error("The two input passwords do not match.!")):t()},trigger:"blur"}]}}},methods:{getQueryString(e){var r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(r);return null!=t?unescape(t[2]):null},reset(){var e=document.querySelector("#btn");e.disabled=!0,e.style.background="gray",e.style.cursor="not-allowed",axios.post(window.pcUrl,{actionCode:"resetPassword",newPassword:$.md5(this.ruleForm2.pass),email:this.getQueryString("email"),checkCode:this.getQueryString("checkCode")}).then(function(e){0==e.data.meta.errno?location.href="login.html":alert(e.data.meta.msg)}).catch(function(e){console.log(e)})},resetPassword(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.reset()})}}});