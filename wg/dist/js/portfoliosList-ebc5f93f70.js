var vm=new Vue({el:"#app",data:{portfolioList:[],sort_type:"day_7",page:{pageSize:8,currentPage:1,showItem:6,totalPage:0}},methods:{getportfolioList(){var t={offset:this.page.currentPage,limit:this.page.pageSize,sort_type:this.sort_type};axios.get(window.reqUrl+"/get/portfolio/rankinglist",{params:t}).then(t=>{0==t.data.error?(this.portfolioList=t.data.data.items,this.page.totalPage=t.data.data.count,this.getRoi(),this.getRoiWeek()):alert(t.data.message)}).catch(function(t){console.log(t)})},getPortfolioDetail(t){localStorage.getItem("token")?location.href="share.html?folio_id="+t:location.href="login.html"},goto(t){t!=this.page.currentPage&&(this.page.currentPage=t,this.getportfolioList())},getRoi(){this.portfolioList.forEach(t=>{t.roi=t.entire_history})},getRoiWeek(){this.portfolioList.forEach(t=>{t.roiWeek=t.day_7_history})}},created(){this.getportfolioList()},computed:{roi(){for(var t=[],o=0;o<this.portfolioList.length;o++){var e=parseFloat(this.portfolioList[o].roi)>=0?"#20ae16":"red";t.push(e)}return t},roiWeek(){for(var t=[],o=0;o<this.portfolioList.length;o++){var e=parseFloat(this.portfolioList[o].roiWeek)>=0?"#20ae16":"red";t.push(e)}return t},max_drawdown(){for(var t=[],o=0;o<this.portfolioList.length;o++){var e=parseFloat(this.portfolioList[o].max_drawdown)>=0?"#20ae16":"red";t.push(e)}return t},combinations:function(){var t=[];return this.portfolioList.forEach((o,e)=>{var i="";o.allocations.forEach((t,o)=>{i=i+t.coin_name+" "+t.weight+"  "}),t.push(i)}),t}},watch:{sort_type(){this.getportfolioList()}}});